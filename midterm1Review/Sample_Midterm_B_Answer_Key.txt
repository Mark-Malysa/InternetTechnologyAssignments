Answer Key — Sample Midterm B (sketch)

1) a) Router must receive whole packet before forwarding next hop. b) Authority holds NS; Additional carries glue (A/AAAA for those NS). c) GET /path HTTP/1.1 + Host, User-Agent, Accept. d) 1.1 persistent vs 2 multiplexed. e) HELO/MAIL FROM/RCPT TO/DATA. f) POP3 delete harms multi-device; leave-on-server mitigates. g) Seq# reorder/dedup; checksum detect corruption. h) +Low overhead, +no handshake; −no reliability, −no ordering. i) GBN discards OOO; SR buffers OOO. j) BDP = R×RTT; governs window needed to fill pipe.

2) Perf: t_s1 = 200/2e6 = 0.1 ms; t_s2 = 200/5e5 = 0.4 ms (bottleneck). t_p=0.04 per hop.
First packet: (0.1+0.04)+(0.4+0.04)=0.58 ms. N=F/P=10 pkts. Drain: 9*0.4=3.6 ms.
2.a) Total = 0.58 + 3.6 = 4.18 ms.
2.b) Add N*t_h = 10*0.02 = 0.2 ms ⇒ 4.38 ms.
2.c) Message: F/R1 + F/R2 + 2*t_p = 2000/2e6 + 2000/5e5 + 0.08 = 1.0 ms + 4.0 ms + 0.08 = 5.08 ms.

3) HTTP (60 Mb/s ≈ 7.5 MB/s). Total size = 120 + 9*40 = 480 KB. tx ≈ 480/7680 ≈ 62.5 ms.
3.a) 1.0 with 2 parallel: 2 conns at a time ⇒ roughly 5 RTTs of app-layer rounds + 5 handshakes ≈ 5*60 + 5*30 = 450 ms + tx ≈ 512.5 ms (credit variants if reasoned).
3.b) 1.1 persistent no pipelining: 1 handshake + 10 app RTTs ≈ 30 + 300 = 330 ms + 62.5 = 392.5 ms.
3.c) h2 multiplexed: 1 handshake + 1 app RTT + tx ≈ 30 + 30 + 62.5 = 122.5 ms.

4) DNS: root→ .edu NS(+glue) ; .edu→ princeton.edu NS(+glue); auth(princeton)→ Answer A/AAAA. Poisoned glue misdirects to wrong NS IP; TTL bounds lifetime of bad mapping.

5) UDP/rel
5.a) D nibbles: 0101(5)+0011(3)+0010(2)=0xA; no wrap; 1’s compl ⇒ 0x5. Check: 0xA+0x5=0xF OK.
5.b) S&W: ≈ N*RTT = 500*0.12 = 60 s.
5.c) W=15: Throughput ≈ (15*1000)/0.12 ≈ 125 kb/s ⇒ T ≈ 1e6/1.25e5 ≈ 8 s (add ~RTT/2).
5.d) GBN: timeout at oldest unACKed ⇒ retransmit from #7 onward up to last sent within window.
5.e) SR: retransmit only lost {7,9,11}; receiver buffers others within window until gaps filled.
